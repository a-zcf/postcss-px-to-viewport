webpackJsonp([1],{"CpC+":function(n,e,t){n.exports=t.p+"static/img/paymentBgk.8ab202f.png"},VX41:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("P9l9"),a=(t("fxnj"),{name:"payment",data:function(){return{show:!1,supplierName:"",supplierlicence:"",smokeName:"",smokeImgUrl:"",smokeBrandCode:"",phone:"",codeImg:"",codeStr:"",strip:"",announcementList:[],appId:"",timeStamp:"",nonceStr:"",package:"",signType:"",paySign:"",orderId:"",amount:0,url:"",title:"",img:"",backgroundDiv:{backgroundImage:"url("+t("CpC+")+")",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},boss:""}},mounted:function(){this.codeStr=this.getQueryVariable("c"),this.strip=this.getQueryVariable("t"),this.getWxPay()},methods:{getQueryVariable:function(n){for(var e=window.location.search.substring(1).split("&"),t=0;t<e.length;t++){var i=e[t].split("=");if(i[0]==n)return i[1]}return""},getWxPay:function(){var n=this;""!=this.codeStr?this.$postRequest(i.WxPay,{codeStr:this.codeStr}).then(function(e){if(0===e.data.code){var t=e.data.data.supplierData,i=t.name,a=t.boss,s=t.licence,o=t.phone,r=t.codeImg;n.supplierName=i,n.boss=a,n.supplierlicence=s,n.phone=o,n.codeImg=r;var c=e.data.data.smokeData;n.smokeName=c.name,n.smokeImgUrl=c.imgUrl,n.smokeBrandCode=c.smokeBrandCode;var l=e.data.data.activity,d=l.url,p=l.title,u=l.img;n.url=d,n.title=p,n.img=u;var f=e.data.data.payConfig,g=f.appId,m=f.timeStamp,v=f.nonceStr,h=f.signType,_=f.paySign,y=f.packageValue,C=f.orderId,k=f.amount;n.appId=g,n.timeStamp=m,n.nonceStr=v,n.package=y,n.signType=h,n.paySign=_,n.orderId=C,n.amount=k,n.announcementList=e.data.data.announcementList}else 1005===e.data.code||1006===e.data.code?n.$router.push({path:"/paid",query:{codeStr:n.codeStr,strip:n.strip}}):1002===e.data.code?n.$router.push({path:"/detailimg",query:{detailImg:e.data.data.smokeData.detailImg}}):n.$toast.fail(e.data.message)}):this.$toast.fail("无效的二维码，请重新扫码！")},onBridgeReady:function(){var n=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:n.appId,timeStamp:n.timeStamp,nonceStr:n.nonceStr,package:n.package,signType:n.signType,paySign:n.paySign},function(e){if("get_brand_wcpay_request:ok"==e.err_msg){var t=n.orderId;n.$router.push({path:"/paymentsuccess",query:{orderId:t}})}else"get_brand_wcpay_request:fail"==e.err_msg&&n.$toast.fail("支付失败！")})},clickDjtz:function(){window.location=this.url},payDetails:function(){this.show=!1}}}),s=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"packagepayment",style:n.backgroundDiv},[t("div",{staticClass:"slide"},[1==n.strip?t("div",{staticClass:"vif-package"},[t("div",{staticClass:"package"},[t("div",{staticClass:"yinZhang",style:""==n.smokeImgUrl?"display: none;":"display: block;"},[n._v("\n          正品\n        ")]),n._v(" "),t("img",{staticClass:"package-img",attrs:{src:n.smokeImgUrl}}),n._v(" "),t("ul",[t("li",[t("span",{staticClass:"iconfont icon-tag icon-style"}),n._v(" "),t("div",{staticClass:"package-con"},[t("span",{staticClass:"weight"},[n._v("品名")]),n._v(" "),t("span",{staticClass:"font-size"},[n._v(n._s(n.smokeName))])])]),n._v(" "),t("li",[t("span",{staticClass:"iconfont icon-news icon-style"}),n._v(" "),t("div",{staticClass:"package-con"},[t("span",{staticClass:"weight"},[n._v("卷烟身份证号")]),n._v(" "),t("span",{staticClass:"font-size02"},[n._v(n._s(n.smokeBrandCode))])])]),n._v(" "),t("li",[t("span",{staticClass:"iconfont icon-shop icon-style"}),n._v(" "),t("div",{staticClass:"package-con"},[t("span",{staticClass:"weight"},[n._v("出售店铺")]),n._v(" "),t("span",{staticClass:"font-size"},[n._v(n._s(n.supplierName))])])]),n._v(" "),t("li",[t("span",{staticClass:"iconfont icon-safe icon-style"}),n._v(" "),t("div",{staticClass:"package-con"},[t("span",{staticClass:"weight"},[n._v("专卖许可证号")]),n._v(" "),t("span",{staticClass:"font-size"},[n._v(n._s(n.supplierlicence))])])])])]),n._v(" "),t("div",{staticClass:"boss-info"},[t("div",{staticClass:"boss-infocon"},[t("img",{staticClass:"boss-code",attrs:{src:n.codeImg}}),n._v(" "),t("ul",[t("li",{staticClass:"botton"},[t("span",{staticClass:"iconfont icon-addressbook icon-size"}),n._v(" "),t("div",{staticClass:"boss-text"},[t("span",{staticClass:"weight"},[n._v("联系人")]),n._v(" "),t("span",{staticClass:"size"},[n._v(n._s(n.boss))])])]),n._v(" "),t("li",[t("span",{staticClass:"iconfont icon-phone icon-size"}),n._v(" "),t("div",{staticClass:"boss-text"},[t("span",{staticClass:"weight"},[n._v("电话")]),n._v(" "),t("span",{staticClass:"size"},[n._v(n._s(n.phone))])])])])]),n._v(" "),t("van-notice-bar",{attrs:{color:"#ea4f4f",background:"#ead5c1","left-icon":"volume-o",scrollable:!0}},n._l(n.announcementList,function(e,i){return t("span",{key:i},[n._v(n._s(e))])}),0)],1),n._v(" "),t("img",{staticClass:"img-advert",attrs:{src:n.img},on:{click:n.clickDjtz}})]):t("div",{staticClass:"velse-stripbox"},[t("div",{staticClass:"strip-box"},[t("div",{staticClass:"tiao-img"},[t("div",{staticClass:"yinZhang",style:""==n.smokeImgUrl?"display: none;":"display: block;"},[n._v("\n            正品\n          ")]),n._v(" "),t("img",{attrs:{src:n.smokeImgUrl}})]),n._v(" "),t("div",{staticClass:"cigarettebag-info"},[t("div",{staticClass:"info-left"},[t("div",{staticClass:"left"},[t("i",{staticClass:"iconfont icon-tag font-iconsize"}),n._v(" "),t("div",{staticClass:"left-text"},[t("span",{staticClass:"weight"},[n._v("品名")]),n._v(" "),t("span",{staticClass:"white-space"},[n._v(n._s(n.smokeName))])])]),n._v(" "),t("div",{staticClass:"left"},[t("i",{staticClass:"iconfont icon-news font-iconsize"}),n._v(" "),t("div",{staticClass:"left-text"},[t("span",{staticClass:"weight"},[n._v("卷烟身份证号")]),n._v(" "),t("span",{staticClass:"id"},[n._v(n._s(n.smokeBrandCode))])])])]),n._v(" "),t("div",{staticClass:"info-right"},[t("div",{staticClass:"right"},[t("i",{staticClass:"iconfont icon-shop font-iconsize"}),n._v(" "),t("div",{staticClass:"right-text"},[t("span",{staticClass:"weight"},[n._v("出售店铺")]),n._v(" "),t("span",{staticClass:"white-space"},[n._v(n._s(n.supplierName))])])]),n._v(" "),t("div",{staticClass:"right"},[t("i",{staticClass:"iconfont icon-safe font-iconsize"}),n._v(" "),t("div",{staticClass:"right-text"},[t("span",{staticClass:"weight"},[n._v("专卖许可证号")]),n._v(" "),t("span",[n._v(n._s(n.supplierlicence))])])])])])]),n._v(" "),t("div",{staticClass:"boss-info"},[t("div",{staticClass:"boss-infocon"},[t("img",{staticClass:"boss-code",attrs:{src:n.codeImg}}),n._v(" "),t("ul",[t("li",{staticClass:"botton"},[t("span",{staticClass:"iconfont icon-addressbook icon-size"}),n._v(" "),t("div",{staticClass:"boss-text"},[t("span",{staticClass:"weight"},[n._v("联系人")]),n._v(" "),t("span",{staticClass:"size"},[n._v(n._s(n.boss))])])]),n._v(" "),t("li",[t("span",{staticClass:"iconfont icon-phone icon-size"}),n._v(" "),t("div",{staticClass:"boss-text"},[t("span",{staticClass:"weight"},[n._v("电话")]),n._v(" "),t("span",{staticClass:"size"},[n._v(n._s(n.phone))])])])])]),n._v(" "),t("van-notice-bar",{attrs:{color:"#ea4f4f",background:"#ead5c1","left-icon":"volume-o",scrollable:!0}},n._l(n.announcementList,function(e,i){return t("span",{key:i},[n._v(n._s(e))])}),0)],1),n._v(" "),t("img",{staticClass:"img-advert",attrs:{src:n.img},on:{click:n.clickDjtz}})])]),n._v(" "),t("div",{staticClass:"footer"},[t("div",{staticClass:"left"},[n._m(0),n._v(" "),t("span",{staticClass:"right-text"},[n._v(n._s(n.amount))])]),n._v(" "),t("div",{staticClass:"right",on:{click:n.onBridgeReady}},[n._v("立即支付")])])])};s._withStripped=!0;var o={render:s,staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("span",{staticClass:"left-text"},[this._v("支付"),e("b",[this._v("￥")])])}]},r=o;var c=!1;var l=t("VU/8")(a,r,!1,function(n){c||t("bmRh")},null,null);l.options.__file="src/views/payment/payment.vue";e.default=l.exports},bmRh:function(n,e,t){var i=t("dWzf");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("44779b0c",i,!1,{})},dWzf:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"payment.vue",sourceRoot:""}])},fxnj:function(n,e){var t;t=window,n.exports=function(n,e){if(!n.jWeixin){var t,i={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest",openEnterpriseRedPacket:"getRecevieBizHongBaoRequest",startSearchBeacons:"startMonitoringBeacons",stopSearchBeacons:"stopMonitoringBeacons",onSearchBeacons:"onBeaconsInRange",consumeAndShareCard:"consumedShareCard",openAddress:"editAddress"},a=function(){var n={};for(var e in i)n[i[e]]=e;return n}(),s=n.document,o=s.title,r=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),l=!(!c.match("mac")&&!c.match("win")),d=-1!=r.indexOf("wxdebugger"),p=-1!=r.indexOf("micromessenger"),u=-1!=r.indexOf("android"),f=-1!=r.indexOf("iphone")||-1!=r.indexOf("ipad"),g=(t=r.match(/micromessenger\/(\d+\.\d+\.\d+)/)||r.match(/micromessenger\/(\d+\.\d+)/))?t[1]:"",m={initStartTime:A(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},v={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:f?1:u?2:-1,clientVersion:g,url:encodeURIComponent(location.href)},h={},_={_completes:[]},y={state:0,data:{}};L(function(){m.initEndTime=A()});var C=!1,k=[],S={config:function(e){B("config",h=e);var t=!1!==h.check;L(function(){if(t)T(i.config,{verifyJsApiList:V(h.jsApiList),verifyOpenTagList:V(h.openTagList)},function(){_._complete=function(n){m.preVerifyEndTime=A(),y.state=1,y.data=n},_.success=function(n){v.isPreVerifyOk=0},_.fail=function(n){_._fail?_._fail(n):y.state=-1};var n=_._completes;return n.push(function(){!function(){if(!(l||d||h.debug||g<"6.0.2"||v.systemType<0)){var n=new Image;v.appId=h.appId,v.initTime=m.initEndTime-m.initStartTime,v.preVerifyTime=m.preVerifyEndTime-m.preVerifyStartTime,S.getNetworkType({isInnerInvoke:!0,success:function(e){v.networkType=e.networkType;var t="https://open.weixin.qq.com/sdk/report?v="+v.version+"&o="+v.isPreVerifyOk+"&s="+v.systemType+"&c="+v.clientVersion+"&a="+v.appId+"&n="+v.networkType+"&i="+v.initTime+"&p="+v.preVerifyTime+"&u="+v.url;n.src=t}})}}()}),_.complete=function(e){for(var t=0,i=n.length;t<i;++t)n[t]();_._completes=[]},_}()),m.preVerifyStartTime=A();else{y.state=1;for(var n=_._completes,e=0,a=n.length;e<a;++e)n[e]();_._completes=[]}}),S.invoke||(S.invoke=function(e,t,i){n.WeixinJSBridge&&WeixinJSBridge.invoke(e,x(t),i)},S.on=function(e,t){n.WeixinJSBridge&&WeixinJSBridge.on(e,t)})},ready:function(n){0!=y.state?n():(_._completes.push(n),!p&&h.debug&&n())},error:function(n){g<"6.0.2"||(-1==y.state?n(y.data):_._fail=n)},checkJsApi:function(n){T("checkJsApi",{jsApiList:V(n.jsApiList)},(n._complete=function(n){if(u){var e=n.checkResult;e&&(n.checkResult=JSON.parse(e))}n=function(n){var e=n.checkResult;for(var t in e){var i=a[t];i&&(e[i]=e[t],delete e[t])}return n}(n)},n))},onMenuShareTimeline:function(n){b(i.onMenuShareTimeline,{complete:function(){T("shareTimeline",{title:n.title||o,desc:n.title||o,img_url:n.imgUrl||"",link:n.link||location.href,type:n.type||"link",data_url:n.dataUrl||""},n)}},n)},onMenuShareAppMessage:function(n){b(i.onMenuShareAppMessage,{complete:function(e){"favorite"===e.scene?T("sendAppMessage",{title:n.title||o,desc:n.desc||"",link:n.link||location.href,img_url:n.imgUrl||"",type:n.type||"link",data_url:n.dataUrl||""}):T("sendAppMessage",{title:n.title||o,desc:n.desc||"",link:n.link||location.href,img_url:n.imgUrl||"",type:n.type||"link",data_url:n.dataUrl||""},n)}},n)},onMenuShareQQ:function(n){b(i.onMenuShareQQ,{complete:function(){T("shareQQ",{title:n.title||o,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},onMenuShareWeibo:function(n){b(i.onMenuShareWeibo,{complete:function(){T("shareWeiboApp",{title:n.title||o,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},onMenuShareQZone:function(n){b(i.onMenuShareQZone,{complete:function(){T("shareQZone",{title:n.title||o,desc:n.desc||"",img_url:n.imgUrl||"",link:n.link||location.href},n)}},n)},updateTimelineShareData:function(n){T("updateTimelineShareData",{title:n.title,link:n.link,imgUrl:n.imgUrl},n)},updateAppMessageShareData:function(n){T("updateAppMessageShareData",{title:n.title,desc:n.desc,link:n.link,imgUrl:n.imgUrl},n)},startRecord:function(n){T("startRecord",{},n)},stopRecord:function(n){T("stopRecord",{},n)},onVoiceRecordEnd:function(n){b("onVoiceRecordEnd",n)},playVoice:function(n){T("playVoice",{localId:n.localId},n)},pauseVoice:function(n){T("pauseVoice",{localId:n.localId},n)},stopVoice:function(n){T("stopVoice",{localId:n.localId},n)},onVoicePlayEnd:function(n){b("onVoicePlayEnd",n)},uploadVoice:function(n){T("uploadVoice",{localId:n.localId,isShowProgressTips:0==n.isShowProgressTips?0:1},n)},downloadVoice:function(n){T("downloadVoice",{serverId:n.serverId,isShowProgressTips:0==n.isShowProgressTips?0:1},n)},translateVoice:function(n){T("translateVoice",{localId:n.localId,isShowProgressTips:0==n.isShowProgressTips?0:1},n)},chooseImage:function(n){T("chooseImage",{scene:"1|2",count:n.count||9,sizeType:n.sizeType||["original","compressed"],sourceType:n.sourceType||["album","camera"]},(n._complete=function(n){if(u){var e=n.localIds;try{e&&(n.localIds=JSON.parse(e))}catch(n){}}},n))},getLocation:function(n){},previewImage:function(n){T(i.previewImage,{current:n.current,urls:n.urls},n)},uploadImage:function(n){T("uploadImage",{localId:n.localId,isShowProgressTips:0==n.isShowProgressTips?0:1},n)},downloadImage:function(n){T("downloadImage",{serverId:n.serverId,isShowProgressTips:0==n.isShowProgressTips?0:1},n)},getLocalImgData:function(n){!1===C?(C=!0,T("getLocalImgData",{localId:n.localId},(n._complete=function(n){if(C=!1,0<k.length){var e=k.shift();wx.getLocalImgData(e)}},n))):k.push(n)},getNetworkType:function(n){T("getNetworkType",{},(n._complete=function(n){n=function(n){var e=n.errMsg;n.errMsg="getNetworkType:ok";var t=n.subtype;if(delete n.subtype,t)n.networkType=t;else{var i=e.indexOf(":"),a=e.substring(i+1);switch(a){case"wifi":case"edge":case"wwan":n.networkType=a;break;default:n.errMsg="getNetworkType:fail"}}return n}(n)},n))},openLocation:function(n){T("openLocation",{latitude:n.latitude,longitude:n.longitude,name:n.name||"",address:n.address||"",scale:n.scale||28,infoUrl:n.infoUrl||""},n)},getLocation:function(n){T(i.getLocation,{type:(n=n||{}).type||"wgs84"},(n._complete=function(n){delete n.type},n))},hideOptionMenu:function(n){T("hideOptionMenu",{},n)},showOptionMenu:function(n){T("showOptionMenu",{},n)},closeWindow:function(n){T("closeWindow",{},n=n||{})},hideMenuItems:function(n){T("hideMenuItems",{menuList:n.menuList},n)},showMenuItems:function(n){T("showMenuItems",{menuList:n.menuList},n)},hideAllNonBaseMenuItem:function(n){T("hideAllNonBaseMenuItem",{},n)},showAllNonBaseMenuItem:function(n){T("showAllNonBaseMenuItem",{},n)},scanQRCode:function(n){T("scanQRCode",{needResult:(n=n||{}).needResult||0,scanType:n.scanType||["qrCode","barCode"]},(n._complete=function(n){if(f){var e=n.resultStr;if(e){var t=JSON.parse(e);n.resultStr=t&&t.scan_code&&t.scan_code.scan_result}}},n))},openAddress:function(n){T(i.openAddress,{},(n._complete=function(n){n=function(n){return n.postalCode=n.addressPostalCode,delete n.addressPostalCode,n.provinceName=n.proviceFirstStageName,delete n.proviceFirstStageName,n.cityName=n.addressCitySecondStageName,delete n.addressCitySecondStageName,n.countryName=n.addressCountiesThirdStageName,delete n.addressCountiesThirdStageName,n.detailInfo=n.addressDetailInfo,delete n.addressDetailInfo,n}(n)},n))},openProductSpecificView:function(n){T(i.openProductSpecificView,{pid:n.productId,view_type:n.viewType||0,ext_info:n.extInfo},n)},addCard:function(n){for(var e=n.cardList,t=[],a=0,s=e.length;a<s;++a){var o=e[a],r={card_id:o.cardId,card_ext:o.cardExt};t.push(r)}T(i.addCard,{card_list:t},(n._complete=function(n){var e=n.card_list;if(e){for(var t=0,i=(e=JSON.parse(e)).length;t<i;++t){var a=e[t];a.cardId=a.card_id,a.cardExt=a.card_ext,a.isSuccess=!!a.is_succ,delete a.card_id,delete a.card_ext,delete a.is_succ}n.cardList=e,delete n.card_list}},n))},chooseCard:function(n){T("chooseCard",{app_id:h.appId,location_id:n.shopId||"",sign_type:n.signType||"SHA1",card_id:n.cardId||"",card_type:n.cardType||"",card_sign:n.cardSign,time_stamp:n.timestamp+"",nonce_str:n.nonceStr},(n._complete=function(n){n.cardList=n.choose_card_info,delete n.choose_card_info},n))},openCard:function(n){for(var e=n.cardList,t=[],a=0,s=e.length;a<s;++a){var o=e[a],r={card_id:o.cardId,code:o.code};t.push(r)}T(i.openCard,{card_list:t},n)},consumeAndShareCard:function(n){T(i.consumeAndShareCard,{consumedCardId:n.cardId,consumedCode:n.code},n)},chooseWXPay:function(n){T(i.chooseWXPay,M(n),n)},openEnterpriseRedPacket:function(n){T(i.openEnterpriseRedPacket,M(n),n)},startSearchBeacons:function(n){T(i.startSearchBeacons,{ticket:n.ticket},n)},stopSearchBeacons:function(n){T(i.stopSearchBeacons,{},n)},onSearchBeacons:function(n){b(i.onSearchBeacons,n)},openEnterpriseChat:function(n){T("openEnterpriseChat",{useridlist:n.userIds,chatname:n.groupName},n)},launchMiniProgram:function(n){T("launchMiniProgram",{targetAppId:n.targetAppId,path:function(n){if("string"==typeof n&&0<n.length){var e=n.split("?")[0],t=n.split("?")[1];return e+=".html",void 0!==t?e+"?"+t:e}}(n.path),envVersion:n.envVersion},n)},openBusinessView:function(n){T("openBusinessView",{businessType:n.businessType,queryString:n.queryString||"",envVersion:n.envVersion},(n._complete=function(n){if(u){var e=n.extraData;if(e)try{n.extraData=JSON.parse(e)}catch(e){n.extraData={}}}},n))},miniProgram:{navigateBack:function(n){n=n||{},L(function(){T("invokeMiniProgramAPI",{name:"navigateBack",arg:{delta:n.delta||1}},n)})},navigateTo:function(n){L(function(){T("invokeMiniProgramAPI",{name:"navigateTo",arg:{url:n.url}},n)})},redirectTo:function(n){L(function(){T("invokeMiniProgramAPI",{name:"redirectTo",arg:{url:n.url}},n)})},switchTab:function(n){L(function(){T("invokeMiniProgramAPI",{name:"switchTab",arg:{url:n.url}},n)})},reLaunch:function(n){L(function(){T("invokeMiniProgramAPI",{name:"reLaunch",arg:{url:n.url}},n)})},postMessage:function(n){L(function(){T("invokeMiniProgramAPI",{name:"postMessage",arg:n.data||{}},n)})},getEnv:function(e){L(function(){e({miniprogram:"miniprogram"===n.__wxjs_environment})})}}},I=1,w={};return s.addEventListener("error",function(n){if(!u){var e=n.target,t=e.tagName,i=e.src;if(("IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t)&&-1!=i.indexOf("wxlocalresource://")){n.preventDefault(),n.stopPropagation();var a=e["wx-id"];if(a||(a=I++,e["wx-id"]=a),w[a])return;w[a]=!0,wx.ready(function(){wx.getLocalImgData({localId:i,success:function(n){e.src=n.localData}})})}}},!0),s.addEventListener("load",function(n){if(!u){var e=n.target,t=e.tagName;if(e.src,"IMG"==t||"VIDEO"==t||"AUDIO"==t||"SOURCE"==t){var i=e["wx-id"];i&&(w[i]=!1)}}},!0),e&&(n.wx=n.jWeixin=S),S}function T(e,t,i){n.WeixinJSBridge?WeixinJSBridge.invoke(e,x(t),function(n){P(e,n,i)}):B(e,i)}function b(e,t,i){n.WeixinJSBridge?WeixinJSBridge.on(e,function(n){i&&i.trigger&&i.trigger(n),P(e,n,t)}):B(e,i||t)}function x(n){return(n=n||{}).appId=h.appId,n.verifyAppId=h.appId,n.verifySignType="sha1",n.verifyTimestamp=h.timestamp+"",n.verifyNonceStr=h.nonceStr,n.verifySignature=h.signature,n}function M(n){return{timeStamp:n.timestamp+"",nonceStr:n.nonceStr,package:n.package,paySign:n.paySign,signType:n.signType||"SHA1"}}function P(n,e,t){"openEnterpriseChat"!=n&&"openBusinessView"!==n||(e.errCode=e.err_code),delete e.err_code,delete e.err_desc,delete e.err_detail;var i=e.errMsg;i||(i=e.err_msg,delete e.err_msg,i=function(n,e){var t=n,i=a[t];i&&(t=i);var s="ok";if(e){var o=e.indexOf(":");"confirm"==(s=e.substring(o+1))&&(s="ok"),"failed"==s&&(s="fail"),-1!=s.indexOf("failed_")&&(s=s.substring(7)),-1!=s.indexOf("fail_")&&(s=s.substring(5)),"access denied"!=(s=(s=s.replace(/_/g," ")).toLowerCase())&&"no permission to execute"!=s||(s="permission denied"),"config"==t&&"function not exist"==s&&(s="ok"),""==s&&(s="fail")}return e=t+":"+s}(n,i),e.errMsg=i),(t=t||{})._complete&&(t._complete(e),delete t._complete),i=e.errMsg||"",h.debug&&!t.isInnerInvoke&&alert(JSON.stringify(e));var s=i.indexOf(":");switch(i.substring(s+1)){case"ok":t.success&&t.success(e);break;case"cancel":t.cancel&&t.cancel(e);break;default:t.fail&&t.fail(e)}t.complete&&t.complete(e)}function V(n){if(n){for(var e=0,t=n.length;e<t;++e){var a=n[e],s=i[a];s&&(n[e]=s)}return n}}function B(n,e){if(!(!h.debug||e&&e.isInnerInvoke)){var t=a[n];t&&(n=t),e&&e._complete&&delete e._complete,console.log('"'+n+'",',e||"")}}function A(){return(new Date).getTime()}function L(e){p&&(n.WeixinJSBridge?e():s.addEventListener&&s.addEventListener("WeixinJSBridgeReady",e,!1))}}(t)}});
//# sourceMappingURL=1.0c21c6dd3c9ff5e6acc2.js.map